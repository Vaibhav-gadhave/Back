                         ===================================
                     03- OPTIONS WHICH AFFECT THE CACHE SIZE
                         ===================================

                        21. cache_mem (bytes) 

	                    DNS Caching Considerations
			    ==========================

                        22. ipcache_size (number of entries) 
                        23. fqdncache_size (number of entries) 

===============>  21. cache_mem (bytes)  Def: 8 MB

Rule of thumb: If you have N megabytes of RAM 
               cache_mem = [N / 2] / 3 

         * There is no directive in SQUID to limit the amt of RAM it can use,
	   just in case you wish to limit SQUID to such and such amt of RAM

         * This directive has nothing to do with the SQUID process size limit
	   It only places a limit on how much additional memory squid will
	   use as a memory cache of objects. SQUID uses memory for other
	   things as well, viz the cache object indexed database

         * SQUID uses cache_mem RAM to store recently recd objects and to 
	   buffer responses.  
	        If an object comes from the NW [origin server or neighbour 
		cache] then, and only then, does SQUID store this object in RAM
                Such an object is called an in-memory object

	 * Objects read from the disk cache are not stored in RAM but just
	   thrown out onwards to whomever requested it [The Client]
 
         * cache_ mem' specifies the ideal amount of memory to be used for this
	   8 MB should be enough and even if you have tons of RAM, its better
	   used by increasing your disk cache size, which will subsequently use
	   RAM for the index tables 
	         [ 1GB RAM = 25.6 GB disk cache = 185 MB RAM for index tables
		                                  for the 2.56 mill files max]
						  See Fact D Directive # 26

                 SQUID has 3 types of in-memory objects :
		 
	               1.  InTransit objects       [Highest Priority]
                       2.  Hot Objects             [Popular Objects]
                       3.  NegativeCached objects

            SQUID allocates RAM for these objects in 4 KB chunks, hence it 
	    makes sense to specify the size in multiples of 4 or you end up
	    wasting RAM
	    This parameter specifies the ideal upper limit on the total size 
	    of 4 KB blocks allocated. 
	    
	    Intransit objects have priority over the others. When additional 
	    space is needed for incoming data, hot objects and negative cached 
	    will be released. 
	       In other words, the negative cached and hot objects will fill 
	       up any unused space not needed for Intransit objects. 

IMP         If circumstances require, this cache_mem limit will be exceeded
	    by SQUID.  Specifically, if your incoming request rate requires 
	    more than cache_mem of memory to hold intransit objects, Squid 
	    will exceed this limit to satisfy the new requests. On very
	    busy servers, this RAM cache might contain ONLY in_transit objects
	    
	    When the load decreases, blocks will be freed until the highwater
	    mark is reached. Thereafter, blocks will be used to store hot 
	    objects.

      Caution
            This parameter does not specify the maximum process size. It places
	    a limit on one aspect of squid's memory usage. Squid uses memory for
	    other things as well. 
	    Process will probably become twice or three times bigger than the 
	    value put here.

What to do ? : Change it to : 96 MB for 512 MB of RAM
++++++++++++

	                    DNS Caching Considerations
			    ==========================

======================> 22. ipcache_size (no of entries)      Def: 1024 entries
======================> 23. fqdncache_size (no of entries)    Def: 1024 entries
      
         22. ipcache_size (number of entries)  Def: 1024 entries

	     Holds forward DNS [name-to-addr] lookup entries.

	     Each IP cache entry uses a relatively small amt of RAM, so you
	     can safely increase this limit to 10,000 or more

What to do ? : Change to 10000

         23. fqdncache_size (no of entries)     Def: 1024 entries

	     Holds reverse DNS [addr-to-name] lookup entries

	     Each FQDN cache entry uses a relatively small amt of RAM, so you
	     can safely increase this limit to 10,000 or more

	     SQUID makes these reverse DNS lookups only if the "log_fqdn"
	     directive is also enabled

What to do ? : Change to 10000


                            ***********************

